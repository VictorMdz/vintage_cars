<div class="content">
  <div class="container my-5">
      <div class="row pt-4">
        <div class="col mb-2">
          <h1 class="mb-3">All Cars</h1>
          <div class="pt-2">
            <h6 class="pb-1">Filters</h6>
            <%= form_tag cars_path, method: :get do %>
              <div class="btn-group p-1 mb-2 ">
                <%= select_tag :year, options_for_select(@years.keys, params[:year]), include_blank: "Year", class: 'btn btn-outline-dark rounded-pill' %>
              </div>
              <div class="btn-group p-1 mb-2 ">
                <%= select_tag :location, options_for_select(@locations, params[:location]), include_blank: "Location", class: 'btn btn-outline-dark rounded-pill' %>
              </div>
              <div class="btn-group p-1 mb-2 ">
                <%= select_tag :color, options_for_select(@colors, params[:color]), include_blank: "Color", class: 'btn btn-outline-dark rounded-pill' %>
              </div>
              <div class="btn-group p-1 mb-2 ">
                <%= select_tag :brand, options_for_select(@brands, params[:brand]), include_blank: "Brand", class: 'btn btn-outline-dark rounded-pill' %>
              </div>
              <div class="btn-group p-1 mb-2 ">
                <%= select_tag :energy_source, options_for_select(@energies, params[:energy_source]), include_blank: "Energy Source", class: 'btn btn-outline-dark rounded-pill' %>
              </div>
              <div class="btn-group p-1 mb-2 ">
                <%= select_tag :transmission, options_for_select(@transmissions, params[:transmission]), include_blank: "Transmission", class: 'btn btn-outline-dark rounded-pill' %>
              </div>
              <div class="btn-group p-1 mb-2 ">
                <p>Max price € <%= number_field_tag :price%></p>
              </div>
              <br>
              <div class="m-2">
                <%= submit_tag "Apply filters", class: "btn btn-dark rounded-pill mr-1" %>
                <%= link_to "Reset filters", cars_path %>
              </div>
            <% end %>
          </div>
          <p class= "mt-5">Cars available: <%= @cars.length %></p>
      </div>
  </div>
</div>


  <div class="container d-flex">
      <div class="cards">
        <% @cars.each_with_index do |car, index| %>
          <div class="card mr-3 card-rounded" style="width: 15rem;">
            <!-- for when we implement cloudinary -->
            <div id="carouselExampleIndicators-<%= index %>" class="carousel slide" data-ride="carousel">
              <div class="carousel-inner">
                <% car.photos.each_with_index do |photo, index| %>
                  <div class="carousel-item <%= 'active' if index == 0 %>">
                    <%= cl_image_tag photo.key, class: 'card-img-top img-rounded'%>
                  </div>
                <% end %>
               </div>
               <a class="carousel-control-prev" href="#carouselExampleIndicators-<%= index %>" role="button" data-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators-<%= index %>" role="button" data-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="sr-only">Next</span>
                </a>

            </div>
            <div class="card-body">
              <h5 class="card-title"><%= car.brand %> | <%= car.model %></h5>
              <p class="card-text"><%= car.price_per_hour %>€/hour</p>
              <%= link_to 'More details', car_path(car) %>
            </div>
          </div>
        <% end %>
      </div>
      <div>
        <img id="map" src='https://raw.githubusercontent.com/lewagon/layouts-demo/gh-pages/images/mapbox.png'>
      </div>
  </div>
</div>


